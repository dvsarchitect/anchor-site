// Copied from website-mockup/script.js - minor adjustments for Hugo
document.addEventListener('DOMContentLoaded',function(){const e=document.querySelector('.mobile-menu-toggle'),t=document.querySelector('.nav-links');e&&e.addEventListener('click',function(){t.classList.toggle('mobile-active'),this.classList.toggle('active')});document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener('click',function(e){const o=this.getAttribute('href');if('#'!==o&&''!==o){e.preventDefault();const n=document.querySelector(o);if(n){const e=document.querySelector('.navbar').offsetHeight,o=n.offsetTop-e-20;window.scrollTo({top:o,behavior:'smooth'})}}})});const o=document.querySelectorAll('.share-btn');o.forEach(e=>{e.addEventListener('click',function(){const e=this.dataset.platform,t=window.location.href,o=(document.querySelector('.article-title')?.textContent)||'The Anchor';let n='';switch(e){case'twitter':n=`https://twitter.com/intent/tweet?url=${encodeURIComponent(t)}&text=${encodeURIComponent(o)}`;break;case'facebook':n=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(t)}`;break;case'email':n=`mailto:?subject=${encodeURIComponent(o)}&body=${encodeURIComponent('Check out this devotional: '+t)}`}n&&('email'===e?window.location.href=n:window.open(n,'_blank','width=600,height=400'))})});const n=()=>{const e=document.createElement('div');e.className='reading-progress',e.style.cssText='position: fixed; top: 0; left: 0; width: 0%; height: 3px; background: var(--color-accent); z-index: 9999; transition: width 0.2s ease;',document.body.appendChild(e),window.addEventListener('scroll',()=>{const t=window.innerHeight,o=document.documentElement.scrollHeight-t,n=window.scrollY,c=n/o*100;e.style.width=c+'%'})};document.querySelector('.devotional-article')&&n();let c=0;const r=document.querySelector('.navbar');window.addEventListener('scroll',()=>{const e=window.scrollY;e<=0?r.classList.remove('scroll-up'):e>c&&!r.classList.contains('scroll-down')?(r.classList.remove('scroll-up'),r.classList.add('scroll-down')):e<c&&r.classList.contains('scroll-down')&&(r.classList.remove('scroll-down'),r.classList.add('scroll-up')),c=e})});